import requests
from bs4 import BeautifulSoup
import json

url = "https://scholar.google.com/citations?user=YphpjTcAAAAJ&hl=en"

headers = {
    "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0 Safari/537.36"
}

response = requests.get(url, headers=headers)
soup = BeautifulSoup(response.text, "html.parser")

# تعداد کل استنادات
citations_tag = soup.find("td", text="Citations")
if citations_tag:
    citations = citations_tag.find_next_sibling("td").text
else:
    citations = "N/A"

# h-index
hindex_tag = soup.find("td", text="h-index")
if hindex_tag:
    hindex = hindex_tag.find_next_sibling("td").text
else:
    hindex = "N/A"

data = {
    "citations": citations,
    "hindex": hindex
}

with open("scholar_data.json", "w", encoding="utf-8") as f:
    json.dump(data, f, ensure_ascii=False, indent=2)

print("Data saved:", data)
